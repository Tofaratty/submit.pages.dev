<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cloudflare Pages | Login</title>
    <link rel="stylesheet" href="/index.css">
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js?onload=_turnstileCb" defer></script>
</head>
<body>
    <main>
        <h1>Welcome to Cloudflare Pages</h1>
        <p>This is a demonstration of Cloudflare Pages with Turnstile.</p>
        <p>Please log in to continue:</p>
        
        <form method="POST" action="/api/login">
            <div class="input">
                <label for="username">Username</label>
                <input id="username" name="username" type="text" required>
            </div>

            <div class="input">
                <label for="password">Password</label>
                <input id="password" name="password" type="password" required>
            </div>

            <div id="turnstile-widget" style="padding-top: 20px;"></div>

            <button type="submit">Login</button>
        </form>
    </main>

    <script>
        function _turnstileCb() {
            console.debug('_turnstileCb called');
            
            turnstile.render('#turnstile-widget', {
                sitekey: '0x4AAAAAAAVKDU-tGdf6-aOV',
                theme: 'light',
            });
        }
    </script>
</body>
</html>
